# Contributor: Stellar Project
# Maintainer: Evan Hazlett <ejhazlett@gmail.com>
pkgname="terraos-installer"
pkgver="0.1.5"
pkgrel=0
pkgdesc="Stellar Project Terra OS Installer"
url="https://github.com/stellarproject"
arch="noarch"
license="MIT"
depends="dialog bash cryptsetup zfs zfs-scripts zfs-udev sgdisk efibootmgr"
makedepends=""
install=""
subpackages=""
source="https://github.com/ehazlett/terraos-installer/archive/v$pkgver.zip"
builddir="$srcdir/$pkgname-$pkgver"
options="!check !archcheck !strip"

prepare() {
    default_prepare
}

build() {
    return 0
}

package() {
    mkdir -p "$pkgdir/usr/bin"
    mkdir -p "$pkgdir/usr/share/$pkgname"
    cp -r "$builddir"/* "$pkgdir/usr/share/$pkgname"
    cat <<EOF > "$pkgdir/usr/bin/setup-terra"
cd /usr/share/$pkgname
/bin/sh install.sh
EOF
    chmod +x "$pkgdir/usr/bin/setup-terra"
}
sha512sums="d0800b0f91658b47ab8561f7dec8924ba9a61f79341d4cc9c58e1f9dc2de41f3f1ab5217ab2c8e5cf34970a2e5a44d07b2e606f269c582ba0c998801d95a34c3  v0.1.5.zip"
